{"version":3,"file":"js/551.014d6fd0.js","mappings":"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","sources":["webpack://frontend/./src/components/Incident/IncidentPerformanceDashboard.vue","webpack://frontend/./src/components/Incident/IncidentPerformanceDashboard.vue?f751"],"sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <div class=\"dashboard-header\">\n      <h1>Incident Dashboard</h1>\n      <div class=\"header-actions\">\n        <button class=\"refresh-btn\" @click=\"refreshData\"><i class=\"fas fa-sync\"></i></button>\n        <button class=\"download-btn\"><i class=\"fas fa-download\"></i></button>\n      </div>\n    </div>\n    \n    <div class=\"metrics-grid\">\n      <!-- Total Incidents Card -->\n      <div class=\"metric-card\">\n        <div class=\"metric-icon incident-icon\">\n          <i class=\"fas fa-exclamation-circle\"></i>\n        </div>\n        <div class=\"metric-content\">\n          <h3>Total Incidents</h3>\n          <div class=\"metric-value\">\n            <span class=\"number\">{{ dashboardData.total_count || 0 }}</span>\n          </div>\n          <div class=\"metric-change\">\n            {{ dashboardData.change_percentage > 0 ? '+' : '' }}{{ dashboardData.change_percentage }}% from last period\n          </div>\n        </div>\n      </div>\n    \n      <!-- Open Incidents Card -->\n      <div class=\"metric-card\">\n        <div class=\"metric-icon open-icon\">\n          <i class=\"fas fa-clipboard-list\"></i>\n        </div>\n        <div class=\"metric-content\">\n          <h3>Open Incidents</h3>\n          <div class=\"metric-value\">\n            <span class=\"number\">{{ dashboardData.status_counts.scheduled || 0 }}</span>\n          </div>\n          <div class=\"metric-change\">\n            Awaiting resolution\n          </div>\n        </div>\n      </div>\n        \n      <!-- Rejected Card -->\n      <div class=\"metric-card\">\n        <div class=\"metric-icon rejected-icon\">\n          <i class=\"fas fa-ban\"></i>\n        </div>\n        <div class=\"metric-content\">\n          <h3>Rejected</h3>\n          <div class=\"metric-value\">\n            <span class=\"number\">{{ dashboardData.status_counts.rejected || 0 }}</span>\n          </div>\n          <div class=\"metric-change\">\n            Rejected incidents\n          </div>\n        </div>\n      </div>\n    \n                <!-- Approved Card -->\n      <div class=\"metric-card\">\n        <div class=\"metric-icon approved-icon\">\n          <i class=\"fas fa-check-circle\"></i>\n        </div>\n        <div class=\"metric-content\">\n          <h3>Approved</h3>\n          <div class=\"metric-value\">\n            <span class=\"number\">{{ dashboardData.status_counts.approved || 0 }}</span>\n          </div>\n          <div class=\"metric-change\">\n            Approved incidents\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"dashboard-content\">\n      <div class=\"performance-chart\">\n        <div class=\"chart-header\">\n          <h2>Incident Analytics</h2>\n          <div class=\"chart-controls\">\n            <div class=\"chart-type-icons\">\n              <button \n                class=\"chart-type-btn\" \n                :class=\"{ active: selectedChartType === 'bar' }\"\n                @click=\"changeChartType('bar')\"\n                title=\"Bar Chart\"\n              >\n                <i class=\"fas fa-chart-bar\"></i>\n              </button>\n              <button \n                class=\"chart-type-btn\" \n                :class=\"{ active: selectedChartType === 'line' }\"\n                @click=\"changeChartType('line')\"\n                title=\"Line Chart\"\n              >\n                <i class=\"fas fa-chart-line\"></i>\n              </button>\n              <button \n                class=\"chart-type-btn\" \n                :class=\"{ active: selectedChartType === 'pie' }\"\n                @click=\"changeChartType('pie')\"\n                title=\"Pie Chart\"\n              >\n                <i class=\"fas fa-chart-pie\"></i>\n              </button>\n              <button \n                class=\"chart-type-btn\" \n                :class=\"{ active: selectedChartType === 'doughnut' }\"\n                @click=\"changeChartType('doughnut')\"\n                title=\"Doughnut Chart\"\n              >\n                <i class=\"fas fa-circle-notch\"></i>\n              </button>\n            </div>\n            <div class=\"axis-controls\">\n              <div class=\"axis-select\">\n                <label>X Axis:</label>\n                <select v-model=\"selectedXAxis\" @change=\"fetchDashboardData\">\n                  <option value=\"Time\">Incidents</option>\n                </select>\n              </div>\n              <div class=\"axis-select\">\n                <label>Y Axis:</label>\n                <select v-model=\"selectedYAxis\" @change=\"fetchDashboardData\">\n                  <option value=\"Status\">By Status</option>\n                  <option value=\"Origin\">By Origin</option>\n                  <option value=\"RiskCategory\">By Risk Category</option>\n                  <option value=\"RiskPriority\">By Risk Priority</option>\n                  <option value=\"Repeated\">By Repeated Status</option>\n                  <option value=\"CostImpact\">By Cost (₹)</option>\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"chart-container\">\n          <canvas id=\"myChart\"></canvas>\n        </div>\n      </div>\n      \n      <div class=\"recent-activity\">\n        <div class=\"activity-header\">\n          <h2>Recent Incidents</h2>\n          <button class=\"more-options\"><i class=\"fas fa-ellipsis-v\"></i></button>\n        </div>\n        <div class=\"activity-list\">\n          <div v-for=\"(incident, index) in recentIncidents\" :key=\"index\" class=\"activity-item\">\n            <div class=\"activity-icon\" :class=\"incident.priority_class\">\n              <i :class=\"incident.icon\"></i>\n            </div>\n            <div class=\"activity-details\">\n              <h4>{{ incident.IncidentTitle }}</h4>\n              <p>{{ truncateDescription(incident.Description, 100) }}</p>\n              <div class=\"activity-meta\">\n                <span class=\"activity-tag origin-tag\">{{ incident.origin_text }}</span>\n                <span v-if=\"incident.status_class\" class=\"activity-tag status-tag\" :class=\"incident.status_class\">{{ incident.Status }}</span>\n                <span class=\"activity-time\">{{ formatDate(incident.CreatedAt) }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Popup Modal -->\n    <PopupModal />\n  </div>\n</template>\n\n<script>\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  PointElement,\n  LineElement,\n  ArcElement,\n  RadialLinearScale,\n  Title,\n  Tooltip,\n  Legend\n} from 'chart.js'\nimport '@fortawesome/fontawesome-free/css/all.min.css'\nimport { incidentService } from '@/services/api'\nimport { PopupModal } from '@/modules/popup'\nimport { AccessUtils } from '@/utils/accessUtils'\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  BarElement,\n  PointElement,\n  LineElement,\n  ArcElement,\n  RadialLinearScale,\n  Title,\n  Tooltip,\n  Legend\n)\n\nexport default {\n  name: 'IncidentPerformanceDashboard',\n  components: {\n    PopupModal\n  },\n  data() {\n    return {\n      selectedChartType: 'bar',\n      selectedXAxis: 'Time',\n      selectedYAxis: 'Severity',\n      chart: null,\n      chartId: 'myChart',\n      api: {\n        incidentService\n      },\n      dashboardData: {\n        status_counts: {\n          scheduled: 0,\n          approved: 0,\n          resolved: 0,\n          rejected: 0\n        },\n        total_count: 0,\n        change_percentage: 0,\n        resolution_rate: 0\n      },\n      chartData: null,\n      recentIncidents: []\n    }\n  },\n  mounted() {\n    this.fetchDashboardData()\n    this.fetchRecentIncidents()\n  },\n  beforeUnmount() {\n    this.destroyChart()\n  },\n  beforeRouteLeave(to, from, next) {\n    this.destroyChart()\n    next()\n  },\n  methods: {\n    destroyChart() {\n      if (this.chart) {\n        this.chart.destroy()\n        this.chart = null\n      }\n    },\n    async fetchRecentIncidents() {\n      try {\n        const response = await this.api.incidentService.getRecentIncidents(3)\n        if (response.data && response.data.success) {\n          this.recentIncidents = response.data.incidents.map(incident => {\n            // Add priority class and icon based on severity\n            let priorityClass = 'medium'\n            let icon = 'fas fa-exclamation-triangle'\n            \n            if (incident.RiskPriority) {\n              const priority = incident.RiskPriority.toLowerCase();\n              if (priority.includes('high')) {\n                priorityClass = 'high'\n                icon = 'fas fa-radiation'\n              } else if (priority.includes('low')) {\n                priorityClass = 'low'\n                icon = 'fas fa-info-circle'\n              }\n            }\n            \n            // Add status class\n            let statusClass = '';\n            if (incident.Status) {\n              const status = incident.Status.toLowerCase();\n              if (status.includes('rejected')) {\n                statusClass = 'rejected';\n              } else if (status.includes('approved')) {\n                statusClass = 'approved';\n              } else if (status.includes('scheduled')) {\n                statusClass = 'scheduled';\n              }\n            }\n            \n            // Add origin info\n            let originText = incident.Origin || 'Unknown';\n            \n            return {\n              ...incident,\n              priority_class: priorityClass,\n              status_class: statusClass,\n              icon: icon,\n              origin_text: originText\n            }\n          })\n        } else {\n          console.error('Failed to fetch recent incidents')\n          this.recentIncidents = []\n        }\n      } catch (error) {\n        console.error('Error fetching recent incidents:', error)\n        \n        // Check for access denied first\n        if (AccessUtils.handleApiError(error)) {\n          return\n        }\n        \n        this.recentIncidents = []\n      }\n    },\n    async fetchDashboardData() {\n      try {\n        console.log('Starting fetchDashboardData for incidents...')\n        console.log('Request payload:', {\n          xAxis: this.selectedXAxis,\n          yAxis: this.selectedYAxis\n        })\n\n        // First fetch the dashboard data\n        let dashboardResponse, analyticsResponse\n        \n        try {\n          dashboardResponse = await this.api.incidentService.getIncidentDashboard()\n          console.log('Incident Dashboard API Response:', dashboardResponse.data)\n        } catch (err) {\n          console.error('Error fetching dashboard data:', err)\n          \n          // Check for access denied first\n          if (AccessUtils.handleApiError(err)) {\n            return\n          }\n          \n          throw new Error(`Dashboard fetch failed: ${err.message}`)\n        }\n        \n        try {\n          analyticsResponse = await this.api.incidentService.getIncidentAnalytics({\n            xAxis: this.selectedXAxis,\n            yAxis: this.selectedYAxis\n          })\n          console.log('Incident Analytics API Response:', analyticsResponse.data)\n        } catch (err) {\n          console.error('Error fetching analytics data:', err)\n          \n          // Check for access denied first\n          if (AccessUtils.handleApiError(err)) {\n            return\n          }\n          \n          throw new Error(`Analytics fetch failed: ${err.message}`)\n        }\n\n        // Check if we got valid responses\n        if (!dashboardResponse.data) {\n          console.error('Dashboard response data is null or undefined')\n          throw new Error('Invalid dashboard response')\n        }\n\n        if (!analyticsResponse.data) {\n          console.error('Analytics response data is null or undefined')\n          throw new Error('Invalid analytics response')\n        }\n\n        if (dashboardResponse.data.success && analyticsResponse.data.success) {\n          // Validate that the summary data exists\n          if (!dashboardResponse.data.data || !dashboardResponse.data.data.summary) {\n            console.error('Dashboard response does not contain expected data structure', dashboardResponse.data)\n            throw new Error('Invalid dashboard data structure')\n          }\n\n          // Validate that chart data exists\n          if (!analyticsResponse.data.chartData) {\n            console.error('Analytics response does not contain expected chartData', analyticsResponse.data)\n            throw new Error('Invalid analytics data structure')\n          }\n\n          // Update dashboard metrics with detailed logging\n          const summary = dashboardResponse.data.data.summary\n          console.log('Dashboard summary data:', summary)\n          \n          this.dashboardData = {\n            status_counts: summary.status_counts || {},\n            total_count: summary.total_count || 0,\n            change_percentage: summary.change_percentage || 0,\n            resolution_rate: summary.resolution_rate || 0\n          }\n          \n          console.log('Updated dashboard data:', this.dashboardData)\n          \n          // Update chart data\n          this.chartData = analyticsResponse.data.chartData\n          console.log('Updated chart data:', this.chartData)\n          \n          // Wait for the next tick to ensure DOM is updated\n          await this.$nextTick()\n          this.updateChart()\n        } else {\n          // Log the error message from the API\n          const errorMessage = dashboardResponse.data.message || analyticsResponse.data.message || 'API request failed'\n          console.error('API Error:', errorMessage)\n          throw new Error(errorMessage)\n        }\n      } catch (error) {\n        console.error('Error in fetchDashboardData:', error)\n        \n        // Check for access denied first\n        if (AccessUtils.handleApiError(error)) {\n          return\n        }\n        \n        // Set default values on error\n        this.dashboardData = {\n          status_counts: {\n            scheduled: 0,\n            approved: 0,\n            rejected: 0\n          },\n          total_count: 0,\n          change_percentage: 0,\n          resolution_rate: 0\n        }\n        this.chartData = {\n          labels: [],\n          datasets: [{\n            label: 'Error Loading Data',\n            data: [],\n            backgroundColor: 'rgba(244, 67, 54, 0.6)',\n            borderColor: '#F44336',\n            borderWidth: 1\n          }]\n        }\n        await this.$nextTick()\n        this.updateChart()\n      }\n    },\n    updateChart() {\n      try {\n        // Destroy existing chart\n        this.destroyChart()\n\n        // Get the canvas element\n        const canvas = document.getElementById(this.chartId)\n        if (!canvas) {\n          console.error('Chart canvas not found')\n          return\n        }\n\n        // Create the chart configuration\n        const config = this.createChartConfig()\n\n        // Create new chart instance\n        this.chart = new ChartJS(canvas, config)\n      } catch (error) {\n        console.error('Error in updateChart:', error)\n        this.chart = null\n      }\n    },\n    createChartConfig() {\n      if (!this.chartData) {\n        return {\n          type: this.selectedChartType,\n          data: {\n            labels: [],\n            datasets: [{\n              label: 'No Data',\n              data: [],\n              backgroundColor: 'rgba(200, 200, 200, 0.5)',\n              borderColor: '#ccc',\n              borderWidth: 1\n            }]\n          },\n          options: this.getChartOptions()\n        }\n      }\n\n      // Check if we have multiple datasets (time-based X-axis with Y-axis dimension)\n      const hasMultipleDatasets = Array.isArray(this.chartData.datasets) && this.chartData.datasets.length > 1;\n      \n      let datasets;\n      \n      if (hasMultipleDatasets) {\n        // Use the datasets as provided by the backend\n        datasets = this.chartData.datasets.map((dataset, index) => {\n          const colors = this.getColorForIndex(index);\n          return {\n            ...dataset,\n            backgroundColor: colors.backgroundColor,\n            borderColor: colors.borderColor,\n            borderWidth: 1,\n            tension: this.selectedChartType === 'line' ? 0.1 : undefined,\n            fill: this.selectedChartType === 'line' ? false : undefined\n          };\n        });\n      } else {\n        // Single dataset with custom colors based on y-axis\n        const dataset = {\n          ...this.chartData.datasets[0],\n          backgroundColor: this.getBackgroundColors(),\n          borderColor: this.getBorderColors(),\n          borderWidth: 1\n        };\n\n        if (this.selectedChartType === 'line') {\n          dataset.tension = 0.1;\n          dataset.fill = false;\n        }\n        \n        datasets = [dataset];\n      }\n\n      return {\n        type: this.selectedChartType,\n        data: {\n          labels: this.chartData.labels,\n          datasets: datasets\n        },\n        options: this.getChartOptions()\n      }\n    },\n    \n    // Helper method to get color for multiple datasets\n    getColorForIndex(index) {\n      const colors = [\n        { backgroundColor: 'rgba(255, 99, 132, 0.6)', borderColor: 'rgb(255, 99, 132)' },\n        { backgroundColor: 'rgba(54, 162, 235, 0.6)', borderColor: 'rgb(54, 162, 235)' },\n        { backgroundColor: 'rgba(255, 206, 86, 0.6)', borderColor: 'rgb(255, 206, 86)' },\n        { backgroundColor: 'rgba(75, 192, 192, 0.6)', borderColor: 'rgb(75, 192, 192)' },\n        { backgroundColor: 'rgba(153, 102, 255, 0.6)', borderColor: 'rgb(153, 102, 255)' },\n        { backgroundColor: 'rgba(255, 159, 64, 0.6)', borderColor: 'rgb(255, 159, 64)' },\n        { backgroundColor: 'rgba(199, 199, 199, 0.6)', borderColor: 'rgb(199, 199, 199)' }\n      ];\n      \n      // Use modulo to cycle through colors if we have more datasets than colors\n      return colors[index % colors.length];\n    },\n    getChartOptions() {\n      const hasMultipleDatasets = this.chartData && \n                                  this.chartData.datasets && \n                                  this.chartData.datasets.length > 1;\n\n      const options = {\n        responsive: true,\n        maintainAspectRatio: false,\n        animation: {\n          duration: 500,\n          easing: 'easeInOutQuad'\n        },\n        plugins: {\n          legend: {\n            display: ['pie', 'doughnut'].includes(this.selectedChartType) || hasMultipleDatasets,\n            position: 'top'\n          },\n          tooltip: {\n            enabled: true,\n            callbacks: {\n              label: (context) => {\n                // Special handling for cost impact when it's numeric\n                if (this.selectedYAxis === 'CostImpact') {\n                  // Check if label is numeric\n                  if (!isNaN(parseFloat(context.label))) {\n                    const label = 'Cost: ₹' + context.label;\n                    const value = context.raw || 0;\n                    return `${label} - ${value} incidents`;\n                  }\n                }\n                \n                if (['pie', 'doughnut'].includes(this.selectedChartType)) {\n                  const label = context.label || ''\n                  const value = context.raw || 0\n                  const total = context.chart.data.datasets[0].data.reduce((a, b) => a + b, 0)\n                  const percentage = ((value / total) * 100).toFixed(1)\n                  return `${label}: ${value} (${percentage}%)`\n                }\n                // For multiple datasets, show both dataset name and value\n                if (hasMultipleDatasets) {\n                  const label = context.dataset.label || ''\n                  const value = context.raw || 0\n                  return `${label}: ${value}`\n                }\n                return `Count: ${context.raw}`\n              }\n            }\n          }\n        }\n      }\n\n      if (['bar', 'line'].includes(this.selectedChartType)) {\n        options.scales = {\n          y: {\n            beginAtZero: true,\n            ticks: {\n              stepSize: 1,\n              precision: 0\n            }\n          }\n        }\n        \n        // Special handling for CostImpact when it's the X-axis\n        if (this.selectedYAxis === 'CostImpact' && this.chartData && this.chartData.labels) {\n          // Check if labels are numeric (cost values)\n          const isNumeric = this.chartData.labels.some(label => !isNaN(parseFloat(label)));\n          \n          if (isNumeric) {\n            // Format x-axis labels with currency symbol\n            options.scales.x = {\n              ticks: {\n                callback: function(value) {\n                  return '₹' + this.getLabelForValue(value);\n                }\n              }\n            }\n          }\n        }\n        \n        // For stacked bar charts when using multiple datasets with time-based x-axis\n        if (this.selectedChartType === 'bar' && \n            hasMultipleDatasets &&\n            ['Date', 'Month', 'Quarter'].includes(this.selectedXAxis)) {\n          options.scales.x = {\n            stacked: true,\n            ...(options.scales.x || {})\n          }\n          options.scales.y.stacked = true\n        }\n      }\n\n      return options\n    },\n    changeChartType(newType) {\n      if (this.selectedChartType === newType) {\n        return\n      }\n      \n      this.selectedChartType = newType\n      this.$nextTick(() => {\n        this.updateChart()\n      })\n    },\n    getBackgroundColors() {\n      const colorMaps = {\n        Severity: {\n          'High': 'rgba(244, 67, 54, 0.6)',\n          'Medium': 'rgba(255, 152, 0, 0.6)',\n          'Low': 'rgba(76, 175, 80, 0.6)'\n        },\n        Status: {\n          'Scheduled': 'rgba(255, 152, 0, 0.6)',\n          'Approved': 'rgba(76, 175, 80, 0.6)',\n          'Rejected': 'rgba(244, 67, 54, 0.6)'\n        },\n        Origin: {\n          'Manual': 'rgba(33, 150, 243, 0.6)',\n          'SIEM': 'rgba(156, 39, 176, 0.6)',\n          'Audit Finding': 'rgba(255, 193, 7, 0.6)',\n          'Other': 'rgba(121, 85, 72, 0.6)'\n        },\n        RiskCategory: {\n          'Security': 'rgba(244, 67, 54, 0.6)',\n          'Compliance': 'rgba(156, 39, 176, 0.6)',\n          'Operational': 'rgba(255, 152, 0, 0.6)',\n          'Financial': 'rgba(33, 150, 243, 0.6)',\n          'Strategic': 'rgba(76, 175, 80, 0.6)',\n          'Reputational': 'rgba(121, 85, 72, 0.6)'\n        },\n        RiskPriority: {\n          'High': 'rgba(244, 67, 54, 0.6)',\n          'Medium': 'rgba(255, 152, 0, 0.6)',\n          'Low': 'rgba(76, 175, 80, 0.6)'\n        },\n        Repeated: {\n          'Repeated': 'rgba(244, 67, 54, 0.6)',\n          'Not Repeated': 'rgba(76, 175, 80, 0.6)'\n        },\n        CostImpact: {\n          'Low': 'rgba(76, 175, 80, 0.6)',\n          'Medium': 'rgba(255, 152, 0, 0.6)',\n          'High': 'rgba(244, 67, 54, 0.6)',\n          'Unknown': 'rgba(158, 158, 158, 0.6)'\n        }\n      }\n\n      // Special handling for CostImpact when it's numeric\n      if (this.selectedYAxis === 'CostImpact' && this.chartData && this.chartData.labels) {\n        // Check if labels are numeric (cost ranges)\n        const isNumeric = this.chartData.labels.some(label => !isNaN(parseFloat(label)));\n        \n        if (isNumeric) {\n          // Generate gradient colors based on value\n          return this.chartData.labels.map(label => {\n            const value = parseFloat(label);\n            // Create color based on value (green for low, red for high)\n            if (value < 500) {\n              return 'rgba(76, 175, 80, 0.6)'; // Green for low cost\n            } else if (value < 2000) {\n              return 'rgba(255, 152, 0, 0.6)'; // Orange for medium cost\n            } else {\n              return 'rgba(244, 67, 54, 0.6)'; // Red for high cost\n            }\n          });\n        }\n      }\n\n      return this.chartData?.labels?.map(label => \n        colorMaps[this.selectedYAxis.replace('By ', '')] \n          ? colorMaps[this.selectedYAxis.replace('By ', '')][label] || 'rgba(158, 158, 158, 0.6)'\n          : 'rgba(158, 158, 158, 0.6)'\n      ) || []\n    },\n    getBorderColors() {\n      const colorMaps = {\n        Severity: {\n          'High': '#F44336',\n          'Medium': '#FF9800',\n          'Low': '#4CAF50'\n        },\n        Status: {\n          'Scheduled': '#FF9800',\n          'Approved': '#4CAF50',\n          'Rejected': '#F44336'\n        },\n        Origin: {\n          'Manual': '#2196F3',\n          'SIEM': '#9C27B0',\n          'Audit Finding': '#FFC107',\n          'Other': '#795548'\n        },\n        RiskCategory: {\n          'Security': '#F44336',\n          'Compliance': '#9C27B0',\n          'Operational': '#FF9800',\n          'Financial': '#2196F3',\n          'Strategic': '#4CAF50',\n          'Reputational': '#795548'\n        },\n        RiskPriority: {\n          'High': '#F44336',\n          'Medium': '#FF9800',\n          'Low': '#4CAF50'\n        },\n        Repeated: {\n          'Repeated': '#F44336',\n          'Not Repeated': '#4CAF50'\n        },\n        CostImpact: {\n          'Low': '#4CAF50',\n          'Medium': '#FF9800',\n          'High': '#F44336',\n          'Unknown': '#9E9E9E'\n        }\n      }\n\n      // Special handling for CostImpact when it's numeric\n      if (this.selectedYAxis === 'CostImpact' && this.chartData && this.chartData.labels) {\n        // Check if labels are numeric (cost ranges)\n        const isNumeric = this.chartData.labels.some(label => !isNaN(parseFloat(label)));\n        \n        if (isNumeric) {\n          // Generate gradient colors based on value\n          return this.chartData.labels.map(label => {\n            const value = parseFloat(label);\n            // Create color based on value (green for low, red for high)\n            if (value < 500) {\n              return '#4CAF50'; // Green for low cost\n            } else if (value < 2000) {\n              return '#FF9800'; // Orange for medium cost\n            } else {\n              return '#F44336'; // Red for high cost\n            }\n          });\n        }\n      }\n\n      return this.chartData?.labels?.map(label => \n        colorMaps[this.selectedYAxis.replace('By ', '')] \n          ? colorMaps[this.selectedYAxis.replace('By ', '')][label] || '#9E9E9E'\n          : '#9E9E9E'\n      ) || []\n    },\n    refreshData() {\n      this.fetchDashboardData()\n      this.fetchRecentIncidents()\n    },\n    truncateDescription(text, maxLength) {\n      if (!text) return '';\n      return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n    },\n    formatDate(dateString) {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      \n      // Check if it's today\n      const today = new Date();\n      if (date.toDateString() === today.toDateString()) {\n        return 'Today, ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n      }\n      \n      // Check if it's yesterday\n      const yesterday = new Date();\n      yesterday.setDate(yesterday.getDate() - 1);\n      if (date.toDateString() === yesterday.toDateString()) {\n        return 'Yesterday, ' + date.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n      }\n      \n      // Otherwise return relative time\n      const diffTime = Math.abs(today - date);\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n      \n      if (diffDays < 7) {\n        return diffDays + ' days ago';\n      } else {\n        return date.toLocaleDateString();\n      }\n    }\n  }\n}\n</script>\n\n<style>\n@import './IncidentPerformanceDashboard.css';\n\n.chart-controls {\n  display: flex;\n  align-items: center;\n  gap: 24px;\n}\n\n.chart-type-icons {\n  display: flex;\n  gap: 8px;\n  padding: 4px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n}\n\n.chart-type-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  border: none;\n  background: transparent;\n  color: #64748b;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n}\n\n.chart-type-btn:hover {\n  background-color: #e2e8f0;\n  color: #1e293b;\n}\n\n.chart-type-btn.active {\n  background-color: #4CAF50;\n  color: white;\n}\n\n.chart-type-btn i {\n  font-size: 1.1rem;\n}\n\n.axis-controls {\n  display: flex;\n  gap: 16px;\n}\n\n.axis-select {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.axis-select label {\n  color: #64748b;\n  font-size: 0.875rem;\n  font-weight: 500;\n}\n\n.axis-select select {\n  padding: 8px 12px;\n  border-radius: 6px;\n  border: 1px solid #e2e8f0;\n  background: white;\n  color: #1e293b;\n  font-size: 0.875rem;\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.axis-select select:hover {\n  border-color: #94a3b8;\n}\n\n.axis-select select:focus {\n  outline: none;\n  border-color: #4CAF50;\n  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.1);\n}\n\n.chart-type-select {\n  display: none;\n}\n\n.metric-icon.incident-icon {\n  background-color: rgba(239, 83, 80, 0.15);\n  color: #ef5350;\n}\n\n.metric-icon.open-icon {\n  background-color: rgba(255, 152, 0, 0.15);\n  color: #ff9800;\n}\n\n.metric-icon.mttd-icon {\n  background-color: rgba(33, 150, 243, 0.15);\n  color: #2196f3;\n}\n\n.metric-icon.rejected-icon {\n  background-color: rgba(244, 67, 54, 0.15);\n  color: #f44336;\n}\n\n.metric-icon.approved-icon {\n  background-color: rgba(76, 175, 80, 0.15);\n  color: #4caf50;\n}\n\n.activity-icon.high {\n  background-color: rgba(244, 67, 54, 0.15);\n  color: #f44336;\n}\n\n.activity-icon.medium {\n  background-color: rgba(255, 152, 0, 0.15);\n  color: #ff9800;\n}\n\n.activity-icon.low {\n  background-color: rgba(76, 175, 80, 0.15);\n  color: #4caf50;\n}\n\n.activity-meta {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-top: 6px;\n  align-items: center;\n}\n\n.activity-tag {\n  font-size: 0.75rem;\n  padding: 2px 6px;\n  border-radius: 4px;\n  font-weight: 500;\n}\n\n.origin-tag {\n  background-color: rgba(33, 150, 243, 0.1);\n  color: #2196f3;\n}\n\n.status-tag {\n  background-color: rgba(158, 158, 158, 0.1);\n  color: #9e9e9e;\n}\n\n.status-tag.scheduled {\n  background-color: rgba(255, 152, 0, 0.1);\n  color: #ff9800;\n}\n\n.status-tag.approved {\n  background-color: rgba(76, 175, 80, 0.1);\n  color: #4caf50;\n}\n\n.status-tag.rejected {\n  background-color: rgba(244, 67, 54, 0.1);\n  color: #f44336;\n}\n</style>","import { render } from \"./IncidentPerformanceDashboard.vue?vue&type=template&id=740508d1\"\nimport script from \"./IncidentPerformanceDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./IncidentPerformanceDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./IncidentPerformanceDashboard.vue?vue&type=style&index=0&id=740508d1&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","onClick","_cache","args","$options","refreshData","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_toDisplayString","$data","dashboardData","total_count","_hoisted_9","change_percentage","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","status_counts","scheduled","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","rejected","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","approved","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_normalizeClass","active","selectedChartType","$event","changeChartType","title","_hoisted_27","_hoisted_28","selectedXAxis","onChange","fetchDashboardData","value","_hoisted_29","selectedYAxis","id","_hoisted_30","_hoisted_31","_Fragment","_renderList","recentIncidents","incident","index","key","priority_class","icon","_hoisted_32","IncidentTitle","truncateDescription","Description","_hoisted_33","_hoisted_34","origin_text","status_class","Status","_hoisted_35","formatDate","CreatedAt","_createVNode","_component_PopupModal","ChartJS","register","CategoryScale","LinearScale","BarElement","PointElement","LineElement","ArcElement","RadialLinearScale","Title","Tooltip","Legend","name","components","PopupModal","data","chart","chartId","api","incidentService","resolved","resolution_rate","chartData","mounted","this","fetchRecentIncidents","beforeUnmount","destroyChart","beforeRouteLeave","to","from","next","methods","destroy","response","getRecentIncidents","success","incidents","map","priorityClass","RiskPriority","priority","toLowerCase","includes","statusClass","status","originText","Origin","console","error","AccessUtils","handleApiError","dashboardResponse","analyticsResponse","log","xAxis","yAxis","getIncidentDashboard","err","Error","message","getIncidentAnalytics","errorMessage","summary","$nextTick","updateChart","labels","datasets","label","backgroundColor","borderColor","borderWidth","canvas","document","getElementById","config","createChartConfig","type","options","getChartOptions","hasMultipleDatasets","Array","isArray","length","dataset","colors","getColorForIndex","tension","undefined","fill","getBackgroundColors","getBorderColors","responsive","maintainAspectRatio","animation","duration","easing","plugins","legend","display","position","tooltip","enabled","callbacks","context","isNaN","parseFloat","raw","total","reduce","a","b","percentage","toFixed","scales","y","beginAtZero","ticks","stepSize","precision","isNumeric","some","x","callback","getLabelForValue","stacked","newType","colorMaps","Severity","RiskCategory","Repeated","CostImpact","replace","text","maxLength","substring","dateString","date","Date","today","toDateString","toLocaleTimeString","hour","minute","yesterday","setDate","getDate","diffTime","Math","abs","diffDays","ceil","toLocaleDateString","__exports__","render"],"sourceRoot":""}